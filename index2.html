<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge"> 
		<meta name="viewport" content="width=device-width, initial-scale=1"> 
		<title>A I D S K R E B S</title>
		<link rel="shortcut icon" href="../favicon.ico">
		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="css/component.css" />
		<link rel="stylesheet" type="text/css" href="css/aidskrebs.css" />
		<link rel="stylesheet" type="text/css" href="css/ak-viewer.css" />
		<link rel="stylesheet" type="text/css" href="css/ak-infobox.css" />
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
		<script src="js/modernizr.custom.js"></script>
	</head>
	<body>
		<div class="container">
			<section class="grid-wrap" id="gridwrap">
				<ul class="grid swipe-right" id="grid">
					<li class="title-box"><h2>AIDSKREBS(beta)</h2></li>
				</ul>
			</section>
		</div><!-- /container -->
		<script src="js/masonry.pkgd.min.js"></script>
		<script src="js/imagesloaded.pkgd.min.js"></script>
		<script src="js/classie.js"></script>
		<script src="js/colorfinder-1.1.js"></script>
		<script src="js/gridScrollFx.js"></script>
		<script src="js/zepto.min.js"></script>
		<script src="js/aidskrebs.js"></script>
		<script src="js/ak-viewer.js"></script>
		<script src="js/ak-infobox.js"></script>
		<script>

			aidskrebs.RegisterGallery$("#grid")

			$.ajaxSettings.crossDomain = true
			$.ajax({
				type: 'GET',
				url: '/api/api2/newest/50',
				dataType: 'json',
				timeout: 2000,
				context: $('body'),
				success: function(data){
					for(var i = 0; i < data.images.length; i++){
						src = "images/"+data.images[i].thumb
						$("#grid").append('<li><a class="imglink" id=elem'+data.images[i].id+' href="#"><img src="'+src+'"></a></li>');
						clicker("#elem"+data.images[i].id,data.images[i])
					}
					new GridScrollFx( document.getElementById( 'grid' ), {
						viewportFactor : 0.2
					} );
					
				},
					error: function(xhr, type){
					alert('Ajax error!')
					console.log(xhr)
					console.log(type)
				}
			})
		</script>
	</body>
</html>